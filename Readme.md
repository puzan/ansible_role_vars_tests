This repo demonstrates issues linked with using variables with Ansible roles.

Related issues on GitHub:

* https://github.com/ansible/ansible/issues/63558
* https://github.com/ansible/ansible/issues/43543

`playbook.yml` contains a few test cases. All errors skipped with `ignore_errors` to run the whole playbook. My expectations are described in asserts. See inside.
